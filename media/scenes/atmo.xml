<?xml version="1.0" encoding="UTF-8"?>
<liblub>
	<include url="common/programs.xml" />
	<Programs>
		<Program name="SkyFromSpace">
			<Shader url="Atmo/SkyFromSpace" />
			
			<Uniform name="outerRadius" value="10.25" />
			<Uniform name="innerRadius" value="10" />
			<Uniform name="invWavelength" value="0.95, 0.5, .05" />
			<!--
			<Uniform name="wavelength" value="0.65, 0.57, 0.475" />
			<Uniform name="cameraHeight" value="10.0" />
			<Uniform name="kr" value="0.0025" />
			<Uniform name="km" value="0.001" />
			<Uniform name="ESun" value="20" />
			<Uniform name="scaleDepth" value="0.25" />
			-->
			<Uniform name="krESun" value="2" />
			<Uniform name="kmESun" value="2" />
			<Uniform name="kr4PI" value="6" />
			<Uniform name="km4PI" value="6" />
			<Uniform name="scaleDepth" value="1" />
			<Uniform name="g" value="-0.99" />
		</Program>
	</Programs>
	<Textures>
		<Texture name="Mars" url="Planets/Mars.jpg" />
		<Texture name="plane-occlusion" url="sphere_ao.png" />
		<Texture name="Mars-normal" url="Planets/Mars-normal.png" />
		<Texture name="TychoSkymap" url="Planets/TychoSkymap.jpg" />
		<Texture name="waves" url="ocean/waves2.dds" />
		<TextureCube name="morning" url="cubemaps/morning" />
	</Textures>
	<Materials>
		<Material name="Mars" program="SkyFromSpace">
			<Layer sampler="diffuseTexture" texture="Mars" />
			<Layer sampler="ambientTexture" texture="plane-occlusion" />
			<Layer sampler="normalTexture" texture="Mars-normal" />
		</Material>
		<Material name="Ocean" program="Ocean">
			<Layer sampler="EnvironmentMap" texture="morning" />
			<Layer sampler="NormalMap" texture="waves" />
		</Material>
		<Material name="universedome" program="Texture">
			<Layer sampler="myTexture" texture="TychoSkymap" />
		</Material>
	</Materials>
	<Meshes>
		<File name="sphere" url="earth.obj" />
		<File name="lightSphere" url="sphere.obj" drawType="LINES" />
	</Meshes>
	<Scene name="XML Loader">
		<Light position ="-15.2, 19.4, 6.5" direction="1,-5,-1" mesh="lightSphere" />
		<Object name="mars" mesh="sphere" material="Mars" scale="10" position="-10,-10,-10" />
		<Object name="waterplanet" mesh="sphere" material="Ocean" scale="1" position="-10,5,.05" />
		<Object name="skydome" mesh="sphere" material="universedome" scale="800" position="0, 0,0" />
	</Scene>
</liblub>
